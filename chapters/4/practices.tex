\section{Code Review Best Practices}
We considered best practices for code review in JavaScript development. 
This aligns with the Code Smell level (middle tier) in our taxonomy. 
To ground our practices we relied on the AirBNB JavaScript coding style guide~\cite{airbnb_code}, a widely used coding style and code review standard. 
The AirBNB standard contains a variety of best practices. 
To scope our approach, we chose practices that were closer to the the design level of our taxonomy, rather than the code level (e.g., trailing comma use in Javascript).

% For example, in JavaScript, callback api was used in the past to achieve concurrency which were replaced by promises. We checked if copilot suggests code which is specifically mentioned in the JavaScript documentation as a bad practice or an anti-pattern. Bad Practices in using promises for asynchronous JavaScript like not returning promises after creation, forgetting to terminate chains without catch statement, which are explained in documentation\footnote{\url{https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises}} and StackOverflow\footnote{\url{https://stackoverflow.com/questions/30362733/handling-errors-in-promise-all/}} are not known to copilot and suggested code with those common anti-patterns as they occur more frequently in copilot training data.

\noindent\textbf{Method:} We chose 5 JavaScript coding standards from the AirBNB JavaScript coding style guide~\cite{airbnb_code}. We considered it a match if Copilot suggested the recommended way in the first 2 suggestions, but note if the recommended way appeared any of the top 10 suggestions. 
Below is the list of five best practices we tested:
% \neil{i think a quick list listing the chosen standards would help, alongside the place the suggestion occurred (e.g.).}

\begin{itemize}
    \item Practice 1: Object Shorthand: Usage of object method shorthand (no suggestion matched)
    \item Practice 2: Array Creating Constructor (place: 6th)
    \item Practice 3: Copying Array Contents (no suggestion matched)
    \item Practice 4: Logging a Function (no suggestion matched)
    \item Practice 5: Exporting a Function (no suggestion matched)
\end{itemize}

Copilot failed to suggest the recommended way for all five standards we tested, i.e, Copilot did not have the recommended way in its top two suggestions. Only 1 out of 5 standards had the recommended way in the top 10 suggestions. 

Below is an example of logging a function (Practice 4). 
We first show the user input that triggers Copilot, the top suggestion by Copilot (i.e. model output) and the recommended way suggested by the AirBNB coding style guide~\cite{airbnb_code}.

\begin{tcolorbox}[title=Logging a Function,boxsep=.5mm]
    %https://tex.stackexchange.com/questions/337909/tcolorbox-tcbline-style
\textbf{Human Input:}
\begin{lstlisting}[language=JavaScript]
// logging function

class foo {
    bar ()
\end{lstlisting}
\tcbline
\textbf{Copilot Suggestion:}
\begin{lstlisting}[language=JavaScript]
{
    console.log('bar');
    }
}
\end{lstlisting}
\tcbline
\textbf{Ideal way\footnote{source~\cite{airbnb_code}}:}
\begin{lstlisting}[language=JavaScript]
class foo {
    bar (){ 
    console.log(this.bar) ;
}}
\end{lstlisting}
\end{tcolorbox}
